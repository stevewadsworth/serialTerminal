{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../ConfigureTerminal.svelte",
    "../../Terminal.svelte",
    "../../DropDown.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport { fade } from 'svelte/transition';\n\timport Terminal from \"./Terminal.svelte\"\n\timport ConfigureTerminal from \"./ConfigureTerminal.svelte\"\n\timport StatusLine from './StatusLine.svelte'\n\n\tlet config = null;\n\n\tdocument.title = \"Serial Terminal\";\n\n</script>\n\n<main>\n\t{#if !config}\n\t\t<div transition:fade>\n\t\t\t<ConfigureTerminal bind:config={config}/>\n\t\t\t<div id='welcome'>\n\t\t\t\t<h1>Serial Terminal</h1>\n\t\t\t</div>\n\t\t</div>\n\t{:else}\n\t\t<div>\n\t\t\t<StatusLine config={config}/>\n\t\t\t<Terminal config={config}/>\n\t\t</div>\n\t{/if}\n</main>\n\n<style>\n\tmain {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t}\n\n\t#welcome {\n \t\ttext-align: center;\n \t\tpadding: 1em;\n \t\tmargin: auto auto;\n \t}\n \th1 {\n \t\tcolor: #ff9900;\n \t\ttext-transform: uppercase;\n \t\tfont-size: 4em;\n \t\tfont-weight: 100;\n \t}\n</style>\n",
    "<script>\n  import { onMount } from \"svelte\";\n  import serial from \"./modules/serial\"\n  import DropDown from './DropDown.svelte'\n\n  export let config = {};\n\n  const emptyPath = '--';\n\n  let paths = []\n  let baudRates = [300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 76800, 115200, 230400];\n  let stopBitsList = [1, 2];\n  let parityList = ['none', 'even', 'odd'];\n  let dataBitsList = [7, 8];\n\n  let path = emptyPath;\n  let baudRate = 115200;\n  let stopBits = 1;\n  let parity = 'none';\n  let dataBits = 8;\n\n\tfunction handleSubmit() {\n    config = {\n      path,\n      baudRate,\n      dataBits,\n      parity,\n      stopBits\n    }\n\t}\n\n  onMount(async function() {\n    const ports = await serial.listPorts()\n    paths = ports.map( item => item.path)\n    paths.unshift(emptyPath);\n    console.log(paths);\n\t})\n\n</script>\n\n<style>\nbutton {\n  float: right;\n}\n</style>\n\n<form on:submit|preventDefault={handleSubmit}>\n  <DropDown bind:value={path} items={paths}/>\n  <DropDown bind:value={baudRate} items={baudRates}/>\n  <DropDown bind:value={dataBits} items={dataBitsList}/>\n  <DropDown bind:value={parity} items={parityList}/>\n  <DropDown bind:value={stopBits} items={stopBitsList}/>\n\t<button disabled={path === emptyPath} type=submit>\n\t\tConnect\n\t</button>\n</form>\n",
    "<script>\n  import { onMount, onDestroy, beforeUpdate, afterUpdate } from \"svelte\";\n  import serial from \"./modules/serial\";\n\n  export let config = {};\n  export let localEcho = false;\n\n  export let isConnected = false;\n\n  let div;\n  let autoscroll;\n  let acc = [\"\"];\n  let rxData = acc;\n\n  let port;\n\n  const printToLine = (c) => {\n    acc[acc.length -1] += c;\n    if (c === 0x0a) {\n      acc.push(new String());\n    }\n  }\n\n  onMount(async function() {\n    port = serial.openPort(config.path, config.baudRate, config.dataBits, config.parity, config.stopBits);\n\n    port.on('error', err => {\n      console.error('Error', err);\n      isConnected = false;\n    })\n\n    port.on('close', err => {\n      console.log('Closed', err)\n      isConnected = false;\n    })\n\n    port.on(\"data\", chunk => {\n      for (const c of chunk) {\n        printToLine(String.fromCharCode(c));\n      }\n      rxData = acc;\n    });\n\n    isConnected = true;\n\n    document.onkeypress = e => {\n      console.log(e);\n      // Auto scroll to the bottom on keypress\n      div.scrollTo(0, div.scrollHeight);\n      let key = e.key;\n      if (e.keyCode === 13) {\n        key = \"\\n\";\n      }\n      port.write(key);\n\n      if (localEcho) {\n        printToLine(key);\n        rxData = acc;\n      }\n    };\n  });\n\n  onDestroy(() => {\n    port.close();\n  })\n\n  beforeUpdate(() => {\n    // Only scroll if we are at the bottom already\n    autoscroll =\n      div && div.offsetHeight + div.scrollTop > div.scrollHeight - 20;\n  });\n\n  afterUpdate(() => {\n    if (autoscroll) {\n      div.scrollTo(0, div.scrollHeight);\n    }\n  });\n</script>\n\n<style>\n  div {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 100%;\n    overflow: scroll;\n    padding: 1rem;\n  }\n\n  div > pre {\n    text-align: left;\n    margin: 0;\n    font-family: \"Courier New\", Courier, monospace;\n  }\n</style>\n\n<div bind:this={div}>\n  {#each rxData as line}\n    <pre>{line}</pre>\n  {/each}\n</div>\n",
    "<script>\n  import { onMount } from \"svelte\";\n\n  export let items = [];\n\n  export let value;\n\n  $: console.log(items);\n\n  onMount(async function() {\n    console.log(items)\n  })\n</script>\n\n<style>\nselect {\n  margin: 0.5rem;\n}\n</style>\n\n<select bind:value={value}>\n  {#each items as item}\n    <option value={item}>\n      {item}\n    </option>\n  {/each}\n</select>\n"
  ],
  "names": [],
  "mappings": "AA6BC,IAAI,cAAC,CAAC,AACL,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,AACZ,CAAC,AAED,QAAQ,cAAC,CAAC,AACR,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,IAAI,CAAC,IAAI,AAClB,CAAC,AACD,EAAE,cAAC,CAAC,AACH,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,AACjB,CAAC;ACHH,MAAM,eAAC,CAAC,AACN,KAAK,CAAE,KAAK,AACd,CAAC;ACqCC,GAAG,8BAAC,CAAC,AACH,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,QAAQ,CAAE,MAAM,CAChB,OAAO,CAAE,IAAI,AACf,CAAC,AAED,kBAAG,CAAG,GAAG,eAAC,CAAC,AACT,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,CAAC,CACT,WAAW,CAAE,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,AAChD,CAAC;AC9EH,MAAM,cAAC,CAAC,AACN,MAAM,CAAE,MAAM,AAChB,CAAC"
}