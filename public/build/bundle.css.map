{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../App.svelte",
    "../../Terminal.svelte",
    "../../ConfigureTerminal.svelte",
    "../../DropDown.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport { fade } from 'svelte/transition';\n\timport Terminal from \"./Terminal.svelte\"\n\timport ConfigureTerminal from \"./ConfigureTerminal.svelte\"\n\timport StatusLine from './StatusLine.svelte'\n\n\tlet config = null;\n\n\tdocument.title = \"Serial Terminal\";\n\n</script>\n\n<main>\n\t{#if !config}\n\t\t<div transition:fade>\n\t\t\t<ConfigureTerminal bind:config={config}/>\n\t\t\t<div id='welcome'>\n\t\t\t\t<h1>Serial Terminal</h1>\n\t\t\t</div>\n\t\t</div>\n\t{:else}\n\t\t<div>\n\t\t\t<StatusLine path={config.path} baudRate={config.baudRate} dataBits={config.dataBits} parity={config.parity} stopBits={config.stopBits}/>\n\t\t\t<Terminal path={config.path} baudRate={config.baudRate} dataBits={config.dataBits} parity={config.parity} stopBits={config.stopBits} localEcho={config.localEcho}/>\n\t\t</div>\n\t{/if}\n</main>\n\n<style>\n\tmain {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t}\n\n\t#welcome {\n \t\ttext-align: center;\n \t\tpadding: 1em;\n \t\tmargin: auto auto;\n \t}\n \th1 {\n \t\tcolor: #ff9900;\n \t\ttext-transform: uppercase;\n \t\tfont-size: 4em;\n \t\tfont-weight: 100;\n \t}\n</style>\n",
    "<script>\n  const { remote } = require('electron')\n  const { Menu, MenuItem } = remote\n\n  import { onMount, onDestroy, beforeUpdate, afterUpdate } from \"svelte\";\n  import serial from \"./modules/serial\";\n\n  export let path;\n  export let baudRate;\n  export let dataBits;\n  export let parity;\n  export let stopBits;\n  export let localEcho;\n\n  export let isConnected = false;\n\n  let div;\n  let autoscroll;\n  let acc = [\"\"];\n  let rxData = acc;\n\n  let port;\n\n  const printToLine = (c) => {\n    acc[acc.length -1] += c;\n    if (c === 0x0a) {\n      acc.push(new String());\n    }\n  }\n\n  const keyPressed = (e) => {\n    console.log(e);\n    // Auto scroll to the bottom on keypress\n    div.scrollTo(0, div.scrollHeight);\n    let key = e.key;\n    if (e.keyCode === 13) {\n      key = \"\\n\";\n    }\n    port.write(key);\n\n    if (localEcho) {\n      printToLine(key);\n      rxData = acc;\n    }\n  };\n\n  onMount(async function() {\n    port = serial.openPort(path, baudRate, dataBits, parity, stopBits);\n\n    port.on('error', err => {\n      console.error('Error', err);\n      isConnected = false;\n    })\n\n    port.on('close', err => {\n      console.log('Closed', err)\n      isConnected = false;\n    })\n\n    port.on(\"data\", chunk => {\n      for (const c of chunk) {\n        printToLine(String.fromCharCode(c));\n      }\n      rxData = acc;\n    });\n\n    isConnected = true;\n\n    document.onkeypress = keyPressed;\n});\n\n  onDestroy(() => {\n    port.close();\n  })\n\n  beforeUpdate(() => {\n    // Only scroll if we are at the bottom already\n    autoscroll =\n      div && div.offsetHeight + div.scrollTop > div.scrollHeight - 20;\n  });\n\n  afterUpdate(() => {\n    if (autoscroll) {\n      div.scrollTo(0, div.scrollHeight);\n    }\n  });\n\n  const menu = new Menu()\n  menu.append(new MenuItem({ label: 'Local Echo', type: 'checkbox', checked: localEcho, click() {localEcho = !localEcho} }))\n  menu.append(new MenuItem({ type: 'separator' }))\n  menu.append(new MenuItem({ label: 'Disconnect', click() { console.log('Disconnecting'); isConnected = false; } }))\n  menu.append(new MenuItem({ type: 'separator' }))\n  menu.append(new MenuItem({ role: 'selectAll' }))\n  menu.append(new MenuItem({ role: 'copy' }))\n // menu.append(new MenuItem({ role: 'paste' })) Paste isn't woring for some reason\n\n  window.addEventListener('contextmenu', (e) => {\n    e.preventDefault()\n    menu.popup({ window: remote.getCurrentWindow() })\n  }, false);\n\n</script>\n\n<style>\n  div {\n    position: absolute;\n    top: 0;\n    height: 100%;\n    width: 100%;\n    overflow: scroll;\n    padding: 1rem;\n  }\n\n  div > pre {\n    text-align: left;\n    margin: 0;\n    font-family: \"Courier New\", Courier, monospace;\n  }\n</style>\n\n<div bind:this={div}>\n  {#each rxData as line}\n    <pre>{line}</pre>\n  {/each}\n</div>\n",
    "<script>\n  import { onMount } from \"svelte\";\n  import serial from \"./modules/serial\"\n  import DropDown from './DropDown.svelte'\n\n  export let config = {};\n\n  const emptyPath = '--';\n\n  let paths = []\n  let baudRates = [300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 76800, 115200, 230400];\n  let stopBitsList = [1, 2];\n  let parityList = ['none', 'even', 'odd'];\n  let dataBitsList = [7, 8];\n  let localEchoList = ['no', 'yes'];\n\n  let path = emptyPath;\n  let baudRate = 115200;\n  let stopBits = 1;\n  let parity = 'none';\n  let dataBits = 8;\n  let localEcho = 'no';\n\n\tfunction handleSubmit() {\n    config = {\n      path,\n      baudRate,\n      dataBits,\n      parity,\n      stopBits,\n      localEcho: localEcho === 'yes' ? true : false\n    }\n\t}\n\n  onMount(async function() {\n    const ports = await serial.listPorts()\n    paths = ports.map( item => item.path)\n    paths.unshift(emptyPath);\n    console.log(paths);\n\t})\n\n</script>\n\n<style>\nbutton {\n  flex-grow: 1;\n  margin: 0.5rem;\n}\n\nform {\n  display: flex;\n  flex-direction: row;\n}\n</style>\n\n<form on:submit|preventDefault={handleSubmit}>\n  <DropDown label='Path' bind:value={path} items={paths}/>\n  <DropDown label='Baud' bind:value={baudRate} items={baudRates}/>\n  <DropDown label='Data Bits' bind:value={dataBits} items={dataBitsList}/>\n  <DropDown label='Parity' bind:value={parity} items={parityList}/>\n  <DropDown label='Stop Bits' bind:value={stopBits} items={stopBitsList}/>\n  <DropDown label='Local Echo' bind:value={localEcho} items={localEchoList}/>\n\t<button disabled={path === emptyPath} type=submit>\n\t\tConnect\n\t</button>\n</form>\n",
    "<script>\n  import { onMount } from \"svelte\";\n\n  export let items = [];\n  export let label = \"Choose:\";\n\n  export let value;\n\n  onMount(async function() {\n    console.log(items)\n  })\n</script>\n\n<style>\ndiv {\n  margin: 0.5rem;\n}\n\nselect {\n  min-width: 3rem;;\n}\nlabel {\n  font-size: 10px;\n}\n</style>\n\n<div>\n  <label for=list>{label}</label>\n  <select id=list bind:value={value}>\n    {#each items as item}\n      <option value={item}>\n        {item}\n      </option>\n    {/each}\n  </select>\n</div>\n"
  ],
  "names": [],
  "mappings": "AA6BC,IAAI,cAAC,CAAC,AACL,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,AACZ,CAAC,AAED,QAAQ,cAAC,CAAC,AACR,UAAU,CAAE,MAAM,CAClB,OAAO,CAAE,GAAG,CACZ,MAAM,CAAE,IAAI,CAAC,IAAI,AAClB,CAAC,AACD,EAAE,cAAC,CAAC,AACH,KAAK,CAAE,OAAO,CACd,cAAc,CAAE,SAAS,CACzB,SAAS,CAAE,GAAG,CACd,WAAW,CAAE,GAAG,AACjB,CAAC;AC4DD,GAAG,8BAAC,CAAC,AACH,QAAQ,CAAE,QAAQ,CAClB,GAAG,CAAE,CAAC,CACN,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,IAAI,CACX,QAAQ,CAAE,MAAM,CAChB,OAAO,CAAE,IAAI,AACf,CAAC,AAED,kBAAG,CAAG,GAAG,eAAC,CAAC,AACT,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,CAAC,CACT,WAAW,CAAE,aAAa,CAAC,CAAC,OAAO,CAAC,CAAC,SAAS,AAChD,CAAC;ACzEH,MAAM,eAAC,CAAC,AACN,SAAS,CAAE,CAAC,CACZ,MAAM,CAAE,MAAM,AAChB,CAAC,AAED,IAAI,eAAC,CAAC,AACJ,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,AACrB,CAAC;ACtCD,GAAG,cAAC,CAAC,AACH,MAAM,CAAE,MAAM,AAChB,CAAC,AAED,MAAM,cAAC,CAAC,AACN,SAAS,CAAE,IAAI,AACjB,CAAC,AACD,KAAK,cAAC,CAAC,AACL,SAAS,CAAE,IAAI,AACjB,CAAC"
}